<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>Hermes: Linking Hermes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>-->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!--<a href="https://github.com/jothepro/doxygen-awesome-css" class="github-corner" title="View source on GitHub">-->
<!--    <svg viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">-->
<!--    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>-->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hermes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_2_linking.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Linking Hermes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md21">cmake</a></li>
<li class="level1"><a href="#autotoc_md22">CUDA</a></li>
<li class="level1"><a href="#autotoc_md24">Troubleshooting</a></li>
</ul>
</div>
<div class="textblock"><p>Once <code>hermes</code> is built and/or installed (instructions) you are free to use it in your project.</p>
<p>Linking <code>hermes</code> is quite straightforward since it just contains a single static library file and all the headers are in a single folder. However, if you compiled it with <code>CUDA</code> you will need to take extra care when linking it.</p>
<p>Before talking about <code>CUDA</code>, lets see what you need to do if you compiled <code>hermes</code> <b>without</b> <code>CUDA</code>. You want to link your code against <code>hermes</code> library, which in <code>UNIX</code> systems will probably a file called <code>libhermes.a</code>.</p>
<p>If you ran <code>make install</code>, then all the files will be in the installation folder, which by default is the folder you used to build the library itself. Both headers and the library file will be separate, respectively, in two folders like this: </p><div class="fragment"><div class="line">include/</div>
<div class="line"> - hermes/</div>
<div class="line">   - # all headers and subdirectories of headers</div>
<div class="line">lib/</div>
<div class="line"> - libhermes.a</div>
</div><!-- fragment --><p>Once you now exactly the location of these folders, you can easily include and link them in your project. For example, lets say hermes is installed under <code>/my/location</code> directory. So there you find both folders: </p><div class="fragment"><div class="line">/my/location/include # containing hermes headers</div>
<div class="line">/my/location/lib     # containing libhermes.a</div>
</div><!-- fragment --><p>Suppose you want compile the following program saved in a file <code>main.cpp</code>: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="debug_8h.html">hermes/common/debug.h</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <a class="code" href="group__common.html#ga8fb92829d690469e456157f6f47a8e94">HERMES_LOG</a>(<span class="stringliteral">&quot;hello hermes!&quot;</span>)</div>
<div class="line">  return 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>In order to compile and run this file using <code>gcc</code> you can do something like this: </p><div class="fragment"><div class="line"># compilation command</div>
<div class="line">g++ -I/my/location/include -l/my/location/lib/libhermes.a main.cpp </div>
<div class="line"># run</div>
<div class="line">./a.out</div>
<div class="line">hello hermes!</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md21"></a>
cmake</h1>
<p>If you use <code>cmake</code> in your project, then it might be useful to have a <code>hermes.cmake</code> (listed later) that conveniently sets variables - HERMES_LIBRARIES and HERMES_INCLUDES - pointing to respective <code>hermes</code> locations. This method requires you to do the following modifications to your <code>CMakeLists.txt</code>: </p><div class="fragment"><div class="line">include(ExternalProject)</div>
<div class="line"># let cmake know where to find hermes.cmake file</div>
<div class="line"># for example, a folder called ext</div>
<div class="line">list(APPEND CMAKE_MODULE_PATH &quot;${CMAKE_CURRENT_SOURCE_DIR}/ext&quot;)</div>
<div class="line"># add hermes.cmake to your project</div>
<div class="line">include(hermes)</div>
<div class="line"># set hermes as a dependency to your target</div>
<div class="line">add_dependencies(my_target hermes)</div>
<div class="line"># and finally, linking to your target this way</div>
<div class="line">target_link_libraries(my_target PUBLIC ${HERMES_LIBRARIES})</div>
<div class="line"># and including the headers like this</div>
<div class="line">target_include_directories(my_target PUBLIC ${HERMES_INCLUDES})</div>
</div><!-- fragment --><p>I usually use the following <code>hermes.cmake</code> file: </p><div class="fragment"><div class="line"># allow cmake to handle external projects (hermes in this case)</div>
<div class="line">include(ExternalProject)</div>
<div class="line"># config hermes package</div>
<div class="line">ExternalProject_Add(</div>
<div class="line">        hermes PREFIX hermes</div>
<div class="line">        URL &quot;https://github.com/filipecn/hermes/archive/refs/heads/main.zip&quot;</div>
<div class="line">        CMAKE_ARGS</div>
<div class="line">        &quot;-DCMAKE_INSTALL_PREFIX=&lt;INSTALL_DIR&gt;&quot;</div>
<div class="line">        &quot;-DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}&quot;</div>
<div class="line">        &quot;-DINSTALL_PATH=install&quot;</div>
<div class="line">)</div>
<div class="line"># retrieve hermes local install</div>
<div class="line">ExternalProject_Get_Property(hermes INSTALL_DIR)</div>
<div class="line">set(INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/hermes)</div>
<div class="line"># set variable containing hermes include directory</div>
<div class="line">set(HERMES_INCLUDES ${INSTALL_DIR}/install/include)</div>
<div class="line"># set variable containing hermes library</div>
<div class="line">set(HERMES_LIBRARIES ${INSTALL_DIR}/install/lib/${CMAKE_STATIC_LIBRARY_PREFIX}hermes${CMAKE_STATIC_LIBRARY_SUFFIX})</div>
<div class="line"># output both variables</div>
<div class="line">set(HERMES_INCLUDES ${HERMES_INCLUDES} CACHE STRING &quot;&quot;)</div>
<div class="line">set(HERMES_LIBRARIES ${HERMES_LIBRARIES} CACHE STRING &quot;&quot;)</div>
</div><!-- fragment --><p>Notice that inside <code>CMAKE_ARGS</code> section, in <code>ExternalProject_Add</code> function, you can pass the options you want from <code>hermes</code>. We will need to do this for <code>CUDA</code> for example.</p>
<h1><a class="anchor" id="autotoc_md22"></a>
CUDA</h1>
<p>For any option other than BUILD_WITH_CUDA the process is exactly the same as above. Just pass the <code>cmake</code> arguments the way you want and be happy. In the case of <code>CUDA</code>, there will be two main changes in the <code>hermes.cmake</code>: </p><div class="fragment"><div class="line"># Add the CUDA option in CMAKE_ARGS section</div>
<div class="line">ExternalProject_Add(</div>
<div class="line">        ...</div>
<div class="line">        CMAKE_ARGS</div>
<div class="line">        ...</div>
<div class="line">        &quot;-DBUILD_WITH_CUDA=ON&quot; </div>
<div class="line">        ...</div>
<div class="line">)</div>
<div class="line"># And add CUDA toolkit headers location to HERMES_INCLUDES variables</div>
<div class="line">set(HERMES_INCLUDES</div>
<div class="line">        ...</div>
<div class="line">        ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES}</div>
<div class="line">        )</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>Note: CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES should be automatically defined by cmake when you set your project language to CUDA as well </p>
</blockquote>
<p>There are several ways to compile <code>CUDA</code> code with <code>cmake</code>, here a possible configuration:</p>
<div class="fragment"><div class="line">target_compile_definitions(my_target PUBLIC</div>
<div class="line">        -DENABLE_CUDA=1</div>
<div class="line">        -D__CUDA_INCLUDE_COMPILER_INTERNAL_HEADERS__=1)</div>
<div class="line">target_include_directories(helios PUBLIC ${HERMES_INCLUDES})</div>
<div class="line">target_compile_options(my_target PRIVATE $&lt;$&lt;COMPILE_LANGUAGE:CUDA&gt;:</div>
<div class="line">        --generate-line-info</div>
<div class="line">        --use_fast_math</div>
<div class="line">        -Xcompiler -pg</div>
<div class="line">        --relocatable-device-code=true</div>
<div class="line">        &gt;)</div>
<div class="line">set_target_properties(helios PROPERTIES</div>
<div class="line">        LINKER_LANGUAGE CUDA</div>
<div class="line">        CMAKE_CUDA_SEPARABLE_COMPILATION ON</div>
<div class="line">        CUDA_RESOLVE_DEVICE_SYMBOLS OFF</div>
<div class="line">        POSITION_INDEPENDENT_CODE ON</div>
<div class="line">        CUDA_STANDARD 17</div>
<div class="line">        CUDA_STANDARD_REQUIRED ON</div>
<div class="line">        CXX_STANDARD 17</div>
<div class="line">        CXX_STANDARD_REQUIRED ON</div>
<div class="line">        )</div>
</div><!-- fragment --><hr  />
<p> Alright! If you are still there and could compile your code along with <code>hermes</code>, then it is time to use! Please check the introduction page to get yourself started!</p>
<h1><a class="anchor" id="autotoc_md24"></a>
Troubleshooting</h1>
<p><em>TODO</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__common_html_ga8fb92829d690469e456157f6f47a8e94"><div class="ttname"><a href="group__common.html#ga8fb92829d690469e456157f6f47a8e94">HERMES_LOG</a></div><div class="ttdeci">#define HERMES_LOG(FMT,...)</div><div class="ttdoc">Logs into info log stream.</div><div class="ttdef"><b>Definition:</b> debug.h:109</div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div><div class="ttdoc">Debug, logging and assertion macros.</div></div>
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
<!--<script type="text/javascript">-->
<!--  $(function() {-->
<!--     toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')-->
<!--     toggleButton.title = "Toggle Light/Dark Mode"-->
<!---->
<!--     $(document).ready(function(){-->
<!--       document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)-->
<!--     })-->
<!--     $(window).resize(function(){-->
<!--       document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)-->
<!--     })-->
<!--   })-->
<!--</script>-->
</body>
</html>
